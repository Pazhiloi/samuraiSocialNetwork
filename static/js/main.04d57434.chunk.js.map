{"version":3,"sources":["components/Navbar/Navbar.module.css","Redux/dialogs-reducer.js","api/api.js","components/Users/users.module.css","components/Header/Header.jsx","Redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","utils/object-helpers.js","Redux/users-reducer.js","components/common/Paginator/Paginator.jsx","assets/images/user.jpg","components/Users/User.jsx","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","Redux/app-reducer.js","Redux/sidebar-reducer.js","Redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.js","assets/images/preloader.svg","components/common/Preloader/Preloader.js","components/common/FormsControls/FormsControls.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","Redux/profile-reducer.js"],"names":["module","exports","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","instance","axios","withCredentials","baseURL","headers","usersAPI","requestUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Header","props","className","s","header","src","alt","loginBlock","isAuth","onClick","to","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","authReducer","HeaderContainer","this","React","Component","connect","auth","Navbar","nav","item","activeClassName","activeLink","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","fake","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","p","cn","selectedPage","pageNumber","e","User","user","userPhoto","photos","small","disabled","some","Users","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","Preloader","compose","bind","page","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","style","formSummaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","basename","process","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validators","component","text","validate","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.04d57434.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3Nyef\",\"item\":\"Navbar_item__2Awds\",\"activeLink\":\"Navbar_activeLink__dN4tm\"};","const SEND_MESSAGE = 'SEND_MESSAGE'\r\nlet initialState = {\r\n    dialogs:  [\r\n    {id: 1, name: 'Dimych'}, \r\n    {id: 2, name: 'Andrew'}, \r\n    {id: 3, name: 'Sveta'}, \r\n    {id: 4, name: 'Sasha'}, \r\n    {id: 5, name: 'Viktor'}, \r\n    {id: 5, name: 'Valera'} \r\n  ] ,\r\n       messages: [\r\n    {id: 1, message: 'Hi'}, \r\n    {id: 2, message: 'wassup'}, \r\n    {id: 3, message: 'Yo'}, \r\n    {id: 4, message: 'Yo'}, \r\n    {id: 5, message: 'Yo'}, \r\n    ],\r\n}\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n       let body = action.newMessageBody;\r\n       return {\r\n        ...state,\r\n        messages: [...state.messages, {id: 6, message: body}]\r\n    }\r\n    default:\r\n    return state\r\n  }  \r\n}\r\n\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\n export  default dialogsReducer;","import * as axios from 'axios';\r\n\r\n\r\nconst instance =  axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers:{\r\n      \"API-KEY\": \"118f769c-aa79-4af9-8cc5-cddce516701f\"\r\n    } \r\n});\r\n\r\nexport const usersAPI = {\r\n  requestUsers(currentPage = 1, pageSize = 10){\r\n      return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n  },\r\n  follow(userId){\r\n    return instance.post(`follow/${userId}`)\r\n  },\r\n  unfollow(userId){\r\n    return instance.delete(`follow/${userId}`)\r\n  },\r\n  getProfile(userId){\r\n    console.warn('Obsolete method. Please use profileAPI object');\r\n    return profileAPI.getProfile(userId)\r\n  }\r\n \r\n}\r\nexport const profileAPI = {\r\n  getProfile(userId){\r\n    return instance.get(`profile/${userId}`)\r\n  },\r\n  getStatus(userId){\r\n    return instance.get(`profile/status/${userId}`)\r\n  },\r\n  updateStatus(status){\r\n    return instance.put(`profile/status`, {status})\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  me(){\r\n    return instance.get(`auth/me`)\r\n  },\r\n  login(email, password, rememberMe = false){\r\n    return instance.post(`auth/login`,{email, password, rememberMe})\r\n  },\r\n  logout(){\r\n    return instance.delete(`auth/login`)\r\n  },\r\n     \r\n \r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1PTct\"};","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n        <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS9p_mJTZG00e2JVvM6ZmeOZmhjmlWqWmPg-A&usqp=CAU\" alt=\"\" />\r\n\r\n        <div className={s.loginBlock}>\r\n        {props.isAuth \r\n        ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div> \r\n        : <NavLink to={'/login'}>Login</NavLink>\r\n        }\r\n            \r\n        </div>\r\n      </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import { stopSubmit } from \"redux-form\"\r\nimport {authAPI} from \"../api/api\"\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA'\r\n\r\nlet initialState = {\r\n   userId: null,\r\n   email: null,\r\n   login: null,\r\n   isAuth: false\r\n}\r\n const authReducer = (state = initialState, action) => {\r\n  switch(action.type){\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n     default: \r\n     return state\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response =  await authAPI.me()\r\n       if (response.data.resultCode === 0 ) {\r\n         let {id, email, login} = response.data.data;\r\n         dispatch(setAuthUserData(id, email, login, true));\r\n       }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) =>  async (dispatch) => {\r\n      const response =  await authAPI.login(email, password, rememberMe)\r\n       if (response.data.resultCode === 0 ) {\r\n         dispatch(getAuthUserData)\r\n       } else{\r\n         let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n         dispatch(stopSubmit('login', {_error: message, }));\r\n       }\r\n}\r\nexport const logout = () => async(dispatch) => {\r\n      const response =  await authAPI.logout()\r\n       if (response.data.resultCode === 0 ) {\r\n         dispatch(setAuthUserData(null,null,null,false))\r\n       }\r\n}\r\n \r\n\r\nexport  default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport {logout} from '../../Redux/auth-reducer';\r\nclass HeaderContainer extends React.Component {\r\n  \r\n\r\n  render(){\r\n    return <Header {...this.props}/>\r\n  }\r\n  \r\n};\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport s from './Navbar.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n  return (\r\n     <nav className={s.nav}>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n          <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n          <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n          <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n        </div>\r\n      </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n return items.map( u => {\r\n          if(u[objPropName] === itemId){\r\n            return {...u, ...newObjProps}\r\n          }\r\n          return u\r\n        })\r\n} ","import { usersAPI } from \"../api/api\"\r\nimport { updateObjectInArray } from \"../utils/object-helpers\"\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n    fake: 10\r\n}\r\n const usersReducer = (state = initialState, action) => {\r\n  switch(action.type){\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n      }\r\n    case UNFOLLOW:\r\n       return {\r\n        ...state,\r\n       users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n      }\r\n      case SET_USERS: {\r\n        return{...state, users: action.users}\r\n      }\r\n      case SET_CURRENT_PAGE: {\r\n        return{\r\n          ...state, currentPage: action.currentPage\r\n        }\r\n      }\r\n      case SET_TOTAL_USERS_COUNT: {\r\n        return{...state,totalUsersCount: action.count}\r\n      }\r\n      case TOGGLE_IS_FETCHING: {\r\n        return{...state, isFetching: action.isFetching}\r\n      }\r\n      case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n        return{\r\n          ...state, \r\n          followingInProgress: action.isFetching \r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n        }\r\n      }\r\n     default: \r\n     return state\r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({ type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage})\r\nexport const setUsersTotalCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\r\n\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n return async (dispatch) =>{\r\n\r\n  dispatch(toggleIsFetching(true))\r\n  dispatch(setCurrentPage(page))\r\n\r\n   const data = await usersAPI.requestUsers(page, pageSize)\r\n       dispatch(toggleIsFetching(false))\r\n       dispatch(setUsers(data.items))\r\n       dispatch(setUsersTotalCount(data.totalCount))\r\n}\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId))\r\n   const response = await apiMethod(userId)\r\n    if(response.data.resultCode === 0){\r\n      dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n return async (dispatch) =>{\r\n   followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n  }\r\n}\r\nexport const unfollow = (userId) => {\r\n return async (dispatch) =>{\r\n   followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n  }\r\n}\r\n\r\n\r\n\r\nexport  default usersReducer;","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/user.20799d4f.jpg\";","import React from 'react';\r\nimport styles from './users.module.css'\r\nimport userPhoto from '../../assets/images/user.jpg'\r\nimport { NavLink } from 'react-router-dom'\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n  return (\r\n      <div>\r\n        <span>\r\n          <div>\r\n          <NavLink to={'/profile/' + user.id}>\r\n          <img className={styles.userPhoto} src={user.photos.small != null ? user.photos.small : userPhoto } alt=\"\" />\r\n          </NavLink>\r\n          \r\n          </div>\r\n          <div>\r\n          { user.followed \r\n            ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {unfollow(user.id)}}>unFollow</button>\r\n            : <button disabled={followingInProgress.some(id => id === user.id)}  onClick={() =>{follow(user.id)}}>Follow</button>}\r\n          </div>\r\n        </span>\r\n\r\n        <span>\r\n          <span>\r\n            <div>{user.name}</div>\r\n            <div>{user.status}</div>\r\n          </span>\r\n          <span>\r\n            <div>{'user.location.country'}</div>\r\n            <div>{'user.location.city'}</div> \r\n          </span>\r\n        </span>\r\n        </div>\r\n  );\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\nconst Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n  return (\r\n   <div>\r\n    <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n    <div>\r\n     {users.map(u => <User \r\n      user={u} \r\n      key={u.id}\r\n      followingInProgress={props.followingInProgress}\r\n      unfollow={props.unfollow}\r\n      follow={props.follow}  \r\n      />)}\r\n    </div>\r\n     \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;","import {createSelector} from 'reselect'\r\n const getUsersSelector = (state) => {\r\n  return state.usersPage.users\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, \r\n  (users, ) => {\r\n  return users.filter(u => true)\r\n})\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {follow, unfollow,  setCurrentPage, toggleFollowingProgress, requestUsers} from '../../Redux/users-reducer'\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers, } from '../../Redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount(){\r\n    const {currentPage, pageSize} = this.props;\r\n    this.props.requestUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const {pageSize} = this.props;\r\n    this.props.requestUsers(pageNumber, pageSize)\r\n  }\r\n\r\n  render (){    \r\n    return <>\r\n    {this.props.isFetching ? <Preloader/> : null}\r\n    <Users totalUsersCount={this.props.totalUsersCount}\r\n                  pageSize ={this.props.pageSize}\r\n                  currentPage ={this.props.currentPage}\r\n                  onPageChanged = {this.onPageChanged}\r\n                  users={this.props.users}\r\n                  follow={this.props.follow}\r\n                  unfollow={this.props.unfollow}\r\n                  followingInProgress={this.props.followingInProgress}\r\n    />  \r\n    </>  \r\n  }\r\n};\r\nconst mapStateToProps = (state) =>{\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps,{follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers})\r\n)(UsersContainer)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {reduxForm} from 'redux-form'\r\nimport { login } from '../../Redux/auth-reducer';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { createField, Input } from '../common/FormsControls/FormsControls';\r\nimport { Redirect } from 'react-router';\r\nimport style from './../common/FormsControls/FormsControls.module.css' \r\nconst LoginForm = ({handleSubmit, error}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n     {createField('Email', 'email', [required], Input)}\r\n     {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n     {createField(null, 'rememberMe', [], Input, {type: 'checkbox'}, 'Remember me')}\r\n      {error && <div className={style.formSummaryError}>\r\n          {error}\r\n      </div>}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n    \r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'}) (LoginForm)\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe);\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'}/>\r\n  }\r\n  return (\r\n    <div>\r\n    <h1>Login</h1>\r\n    <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n    \r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth \r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import { getAuthUserData } from \"./auth-reducer\"\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nlet initialState = {\r\n   initialized: false\r\n}\r\n const appReducer = (state = initialState, action) => {\r\n  switch(action.type){\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n     default: \r\n     return state\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n let promise = dispatch(getAuthUserData())\r\n   Promise.all([promise]).then(() => {\r\n      dispatch(initializedSuccess())\r\n    })\r\n  \r\n}\r\n\r\n\r\n \r\n\r\nexport  default appReducer;","const initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport authReducer from './auth-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport profileReducer from './profile-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport  thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './app-reducer';\r\n\r\nconst reducers = combineReducers({\r\n  profilePage:profileReducer,\r\n  dialogsPage:dialogsReducer, \r\n  sidebar:sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n})\r\n\r\n const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(reducers,  composeEnhancers( applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React, { Suspense } from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n   return  <Suspense fallback={<Preloader/>}>\r\n   <Component {...props}/>\r\n   </Suspense>\r\n  };\r\n};\r\n","import React from 'react';\nimport './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Navbar from './components/Navbar/Navbar';\nimport {BrowserRouter, Route} from 'react-router-dom'\nimport UsersContainer from './components/Users/UsersContainer';\nimport LoginPage from './components/Login/Login';\nimport { connect, Provider } from 'react-redux';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router';\nimport { initializeApp } from './Redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport store from './Redux/redux-store';\nimport { withSuspense } from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\n\nclass App extends React.Component {\n  componentDidMount(){\n   this.props.initializeApp()\n  }\n\n  render(){\n    if(!this.props.initialized){\n      return (<Preloader/>)\n    }\n    \n     return (\n    <div className=\"app-wrapper\">\n      <HeaderContainer/>\n      <Navbar/>\n      <div className=\"app-wrapper-content\">\n      <Route path=\"/dialogs\" \n      render={withSuspense(DialogsContainer)} />\n      <Route path=\"/profile/:userId?\" \n      render={withSuspense(ProfileContainer)}/>\n      <Route path=\"/users\" \n      render={() => <UsersContainer/> }/>\n      <Route path=\"/login\" \n      render={() => <LoginPage/> }/>\n      </div>\n    </div>\n  );\n  }\n  \n \n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp})) (App);\n\n const SamuraiJSApp = (props) => {\n   return <BrowserRouter basename={process.env.PUBLIC_URL}>\n  <Provider store={store}>\n   <AppContainer/>\n  </Provider>\n  </BrowserRouter>\n  };\n\n  export default SamuraiJSApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport SamuraiJSApp from './App';\n\n\n  ReactDOM.render(<SamuraiJSApp/>,document.getElementById('root'));\n\n\n\n\n\n\n\n\n","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport styles from './FormsControls.module.css'\r\n const FormControl = ({input, meta:{touched, error}, children}) => {\r\n    const hasError = touched && error\r\n  return (\r\n    <div className={styles.formControl + ' ' + (hasError ?  styles.error : '')}>\r\n    <div>\r\n    {children}\r\n    </div>\r\n     {hasError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n }\r\n export const Textarea = (props) => {\r\n  const {input, meta, child,...restProps} = props\r\n  return (<FormControl {...props}><textarea {...input} {...restProps}/></FormControl>);\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const {input, meta, child,...restProps} = props\r\n  return (<FormControl {...props}><input {...input} {...restProps}/></FormControl>)\r\n};\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text ='') =>( \r\n <div><Field name={name} validate={validators}  placeholder={placeholder} component={component} {...props}/>{text}</div>  \r\n)","export default __webpack_public_path__ + \"static/media/preloader.c98f7bd0.svg\";","import React from 'react'\r\nimport preloader from '../../../assets/images/preloader.svg'\r\nconst Preloader = () => {\r\n  return (\r\n    <img src={preloader} alt=\"preloader\"/>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1bEUp\",\"error\":\"FormsControls_error__11IYi\",\"formSummaryError\":\"FormsControls_formSummaryError__3IwG8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2SjRy\",\"pageNumber\":\"Paginator_pageNumber__c1Nhs\",\"selectedPage\":\"Paginator_selectedPage__3Xkx8\"};","export const required = value => {\r\n  if(value) return undefined;\r\n\r\n  return ' Field is required'\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__alUTH\",\"loginBlock\":\"Header_loginBlock__18LnI\"};","import { profileAPI, usersAPI } from \"../api/api\"\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nlet initialState = {\r\n    posts: [\r\n    {id: 1, message: 'Hi, how are you?', likesCount: 12}, \r\n    {id: 2, message: \"It's my first post\", likesCount: 11}, \r\n    {id: 3, message: \"It's my first post\", likesCount: 11}, \r\n    {id: 4, message: \"It's my first post\", likesCount: 11}, \r\n  ] , \r\n    profile: null,\r\n    status: '',\r\n}\r\n const profileReducer = (state = initialState, action) => {\r\n\r\n  switch(action.type){\r\n    case ADD_POST:{\r\n       let newPost = {\r\n      id: 5, \r\n      message: action.newPostText,\r\n      likesCount: 0\r\n    }\r\n    return {\r\n      ...state,\r\n      posts: [...state.posts, newPost],\r\n      newPostText: ''\r\n    };\r\n    }\r\n    case SET_STATUS: \r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      };\r\n      case SET_USER_PROFILE: {\r\n        return {...state, profile: action.profile}\r\n      }\r\n      case DELETE_POST: \r\n      return {...state, posts: state.posts.filter(p => p.id !== action.postId)}\r\n     default: \r\n     return state\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) =>{\r\n  const response = await usersAPI.getProfile(userId); \r\n  dispatch(setUserProfile(response.data))\r\n} \r\nexport const getStatus = (userId) => async (dispatch) =>{\r\n const response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data))\r\n} \r\nexport const updateStatus = (status) => async(dispatch) =>{\r\n const response = await  profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status))\r\n    }\r\n} \r\n\r\n export  default profileReducer;"],"sourceRoot":""}